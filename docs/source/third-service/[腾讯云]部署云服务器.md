
# [腾讯云]部署云服务器


$ travis login --auto
We need your GitHub login to identify you.
This information will not be sent to Travis CI, only to api.github.com.
The password will not be displayed.

Try running with --github-token or --auto if you don't want to enter your password anyway.

Username: zjZSTU
Password for zjZSTU: *********
Successfully logged in as zjZSTU!


$ travis encrypt-file ~/.ssh/tencent_id_rsa --add
Detected repository as zjZSTU/zjzstu.github.com, is this correct? |yes| 
encrypting /home/zj/.ssh/tencent_id_rsa for zjZSTU/zjzstu.github.com
storing result as tencent_id_rsa.enc
storing secure env variables for decryption

Make sure to add tencent_id_rsa.enc to the git repository.
Make sure not to add /home/zj/.ssh/tencent_id_rsa to the git repository.
Commit all changes to your .travis.yml.


$ openssl aes-256-cbc -K $encrypted_2cf61c1c8bc9_key -iv $encrypted_2cf61c1c8bc9_iv -in tencent_id_rsa.enc -out ~\/.ssh/tencent_id_rsa -d
~/.ssh/tencent_id_rsa: No such file or directory
140369404802720:error:02001002:system library:fopen:No such file or directory:bss_file.c:398:fopen('~/.ssh/tencent_id_rsa','w')
140369404802720:error:20074002:BIO routines:FILE_CTRL:system lib:bss_file.c:400:
The command "openssl aes-256-cbc -K $encrypted_2cf61c1c8bc9_key -iv $encrypted_2cf61c1c8bc9_iv -in tencent_id_rsa.enc -out ~\/.ssh/tencent_id_rsa -d" failed and exited with 1 during .

$ travis encrypt-file ~/.ssh/known_hosts 
encrypting /home/zj/.ssh/known_hosts for zjZSTU/zjzstu.github.com
storing result as known_hosts.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

    openssl aes-256-cbc -K $encrypted_2cf61c1c8bc9_key -iv $encrypted_2cf61c1c8bc9_iv -in known_hosts.enc -out ~\/.ssh/known_hosts -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add known_hosts.enc to the git repository.
Make sure not to add /home/zj/.ssh/known_hosts to the git repository.
Commit all changes to your .travis.yml.

$ ssh-keygen -t rsa -f ~/.ssh/tencent_id_rsaGenerating public/private rsa key pair.
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/zj/.ssh/tencent_id_rsa.
Your public key has been saved in /home/zj/.ssh/tencent_id_rsa.pub.
The key fingerprint is:
SHA256:eixCGhVPKXtcg5MkxWdGGEJ7fCdTURyKg07bLH8N1nM zj@zj-ThinkPad-T470p
The key's randomart image is:
+---[RSA 2048]----+
|   .=+=B. o+o.   |
|    .OB.*o ..    |
|    o+***.o      |
|   ..+o= = .     |
|  . ..+ S o o E  |
|   +   = . o o   |
|  . . o + . .    |
|     . o .       |
|                 |
+----[SHA256]-----+


0.01s$ ssh-add ~/.ssh/tencent_id_rsa
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Permissions 0664 for '/home/travis/.ssh/tencent_id_rsa' are too open.
It is required that your private key files are NOT accessible by others.
This private key will be ignored

错误：remote: error: denying non-fast-forward refs/heads/master (you should pull first)